From b0a64b65e36d101d3de7d6fa7877bc3cc939cb7b Mon Sep 17 00:00:00 2001
From: Robert Nelson <robertcnelson@gmail.com>
Date: Thu, 29 Dec 2022 12:49:49 -0600
Subject: [PATCH] scripts/dtc: Remove redundant YYLOC global declaration

Signed-off-by: Robert Nelson <robertcnelson@gmail.com>
---
 scripts/dtc/dtc-lexer.lex.c_shipped  | 2 --
 scripts/dtc/dtc-parser.tab.c_shipped | 9 ++++++---
 scripts/dtc/dtc-parser.tab.h_shipped | 1 +
 3 files changed, 7 insertions(+), 5 deletions(-)

diff --git a/scripts/dtc/dtc-lexer.lex.c_shipped b/scripts/dtc/dtc-lexer.lex.c_shipped
index 2d30f41778b7..eb403e08a743 100644
--- a/scripts/dtc/dtc-lexer.lex.c_shipped
+++ b/scripts/dtc/dtc-lexer.lex.c_shipped
@@ -637,8 +637,6 @@ char *yytext;
 #include "srcpos.h"
 #include "dtc-parser.tab.h"
 
-YYLTYPE yylloc;
-
 /* CAUTION: this will stop working if we ever use yyless() or yyunput() */
 #define	YY_USER_ACTION \
 	{ \
diff --git a/scripts/dtc/dtc-parser.tab.c_shipped b/scripts/dtc/dtc-parser.tab.c_shipped
index c8769d550cfb..06ea2ced5973 100644
--- a/scripts/dtc/dtc-parser.tab.c_shipped
+++ b/scripts/dtc/dtc-parser.tab.c_shipped
@@ -70,8 +70,6 @@
 #include "dtc.h"
 #include "srcpos.h"
 
-YYLTYPE yylloc;
-
 extern int yylex(void);
 extern void print_error(char const *fmt, ...);
 extern void yyerror(char const *s);
@@ -180,6 +178,7 @@ typedef union YYSTYPE
 #endif
 
 extern YYSTYPE yylval;
+extern YYLTYPE yylloc;
 
 #ifdef YYPARSE_PARAM
 #if defined __STDC__ || defined __cplusplus
@@ -1253,7 +1252,11 @@ int yychar;
 
 /* The semantic value of the lookahead symbol.  */
 YYSTYPE yylval YY_INITIAL_VALUE(yyval_default);
-
+YYLTYPE yylloc
+# if defined YYLTYPE_IS_TRIVIAL && YYLTYPE_IS_TRIVIAL
+  = { 1, 1, 1, 1 }
+# endif
+;
 /* Number of syntax errors so far.  */
 int yynerrs;
 
diff --git a/scripts/dtc/dtc-parser.tab.h_shipped b/scripts/dtc/dtc-parser.tab.h_shipped
index b2e7a86cd85e..231550a953f7 100644
--- a/scripts/dtc/dtc-parser.tab.h_shipped
+++ b/scripts/dtc/dtc-parser.tab.h_shipped
@@ -107,6 +107,7 @@ typedef union YYSTYPE
 #endif
 
 extern YYSTYPE yylval;
+extern YYLTYPE yylloc;
 
 #ifdef YYPARSE_PARAM
 #if defined __STDC__ || defined __cplusplus
-- 
2.30.2

