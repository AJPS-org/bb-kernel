From 63b7acffdf3d62f49dd299633b52cdf592622fed Mon Sep 17 00:00:00 2001
From: Robert Nelson <robertcnelson@gmail.com>
Date: Mon, 11 Aug 2014 16:31:44 -0500
Subject: [PATCH 9/9] cape: basic proto cape

Signed-off-by: Robert Nelson <robertcnelson@gmail.com>
---
 arch/arm/boot/dts/am335x-bone-basic-proto-cape.dtsi | 17 +++++++++++++++++
 arch/arm/boot/dts/am335x-bone.dts                   |  7 +++++--
 arch/arm/boot/dts/am335x-boneblack.dts              |  7 +++++--
 3 files changed, 27 insertions(+), 4 deletions(-)
 create mode 100644 arch/arm/boot/dts/am335x-bone-basic-proto-cape.dtsi

diff --git a/arch/arm/boot/dts/am335x-bone-basic-proto-cape.dtsi b/arch/arm/boot/dts/am335x-bone-basic-proto-cape.dtsi
new file mode 100644
index 0000000..9fb44d9
--- /dev/null
+++ b/arch/arm/boot/dts/am335x-bone-basic-proto-cape.dtsi
@@ -0,0 +1,17 @@
+/*
+ * Copyright (C) 2012 Texas Instruments Incorporated - http://www.ti.com/
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ */
+
+#include "am335x-bone-spi0.dtsi"
+#include "am335x-bone-ttyO1.dtsi"
+
+&tscadc {
+	status = "okay";
+	adc {
+		ti,adc-channels = <4 5 6>;
+	};
+};
diff --git a/arch/arm/boot/dts/am335x-bone.dts b/arch/arm/boot/dts/am335x-bone.dts
index a972e08..84feac44 100644
--- a/arch/arm/boot/dts/am335x-bone.dts
+++ b/arch/arm/boot/dts/am335x-bone.dts
@@ -30,10 +30,13 @@
 };
 
 /* spiX */
-#include "am335x-bone-spi0.dtsi"
+/* #include "am335x-bone-spi0.dtsi" */
 
 /* uartX */
-#include "am335x-bone-ttyO1.dtsi"
+/* #include "am335x-bone-ttyO1.dtsi" */
 /* #include "am335x-bone-ttyO2.dtsi" */
 /* #include "am335x-bone-ttyO4.dtsi" */
 /* #include "am335x-bone-ttyO5.dtsi" */
+
+/* Capes */
+#include "am335x-bone-basic-proto-cape.dtsi"
diff --git a/arch/arm/boot/dts/am335x-boneblack.dts b/arch/arm/boot/dts/am335x-boneblack.dts
index 54a1f3d..2294d00 100644
--- a/arch/arm/boot/dts/am335x-boneblack.dts
+++ b/arch/arm/boot/dts/am335x-boneblack.dts
@@ -28,10 +28,10 @@
 /* #include "am335x-boneblack-300mhz.dtsi" */
 
 /* spiX */
-#include "am335x-bone-spi0.dtsi"
+/* #include "am335x-bone-spi0.dtsi" */
 
 /* uartX */
-#include "am335x-bone-ttyO1.dtsi"
+/* #include "am335x-bone-ttyO1.dtsi" */
 /* #include "am335x-bone-ttyO2.dtsi" */
 /* #include "am335x-bone-ttyO4.dtsi" */
 /* am335x-boneblack: hdmi has to be disabled for ttyO5 */
@@ -39,3 +39,6 @@
 
 #include "am335x-boneblack-emmc.dtsi"
 #include "am335x-boneblack-nxp-hdmi.dtsi"
+
+/* Capes */
+#include "am335x-bone-basic-proto-cape.dtsi"
-- 
2.0.1

